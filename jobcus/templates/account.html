{% extends "base.html" %}

{% block title %}Jobcus â€“ Sign In / Sign Up{% endblock %}
{% block body_class %}account-page{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/account.css') }}">
{% endblock %}

{% block content %}
<section class="auth-wrapper">
  <div class="auth-card auth-card--blue">
    <h2 class="auth-title">Sign In / Sign Up</h2>
    <p class="auth-subtitle">Create an account or log in below.</p>

    <div id="flashMessages" class="flash-message"></div>

    <form id="accountForm" class="auth-form">
      <input type="hidden" name="mode" id="mode" value="signup" />

      <div class="form-group" id="nameGroup">
        <label for="name">Full Name</label>
        <input type="text" id="name" name="name" placeholder="Your full name" />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" placeholder="you@example.com" required />
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" placeholder="Enter your password" required />
      </div>

      <button type="submit" class="btn-primary" id="submitButton">Sign Up</button>

      <p class="toggle-text">
        <span id="togglePrompt">Already have an account?</span>
        <a href="#" id="toggleMode" class="toggle-link">Sign In</a>
      </p>

      <p class="text-sm">
        <a href="{{ url_for('auth.forgot_password') }}">Forgot your password?</a>
      </p>

      <div class="or-divider"><span>OR</span></div>

      <div class="social-buttons">
        <button type="button" class="social-btn fb">
          <img src="{{ url_for('static', filename='icons/facebook.svg') }}" alt="Facebook">
        </button>
        <button type="button" class="social-btn google">
          <img src="{{ url_for('static', filename='icons/google.png') }}" alt="Google">
        </button>
        <button type="button" class="social-btn linkedin">
          <img src="{{ url_for('static', filename='icons/linkedin.svg') }}" alt="LinkedIn">
        </button>
        <button type="button" class="social-btn apple">
          <img src="{{ url_for('static', filename='icons/apple.svg') }}" alt="Apple">
        </button>
      </div>
    </form>
  </div>
</section>
{% endblock %}

{% block extra_js %}
  <script>
    (function () {
      window.SUPABASE_URL = {{ SUPABASE_URL | tojson }};
      window.SUPABASE_ANON_KEY = {{ SUPABASE_ANON_KEY | tojson }};
    })();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" defer></script>
{% endblock %}

{% block scripts %}
  <script src="{{ url_for('static', filename='js/account.js') }}" defer></script>
{% endblock %}
