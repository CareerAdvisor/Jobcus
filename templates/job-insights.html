<!-- job-insights.html -->
{% extends "base.html" %}

{% block title %}Job Insights ‚Äì Jobcus{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/job-insights.css') }}">
{% endblock %}

{% block content %}
  <!-- JSON-LD: SoftwareApplication for Job Insights -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "SoftwareApplication",
    "name": "Jobcus Job Insights",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web",
    "url": "https://www.jobcus.com/job-insights",
    "image": "https://www.jobcus.com/static/images/og/jobcus-og.jpg",
    "description": "Real-time job market analytics: salary ranges, role demand, in-demand skills, and top hiring locations.",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "USD",
      "url": "https://www.jobcus.com/pricing"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Jobcus",
      "url": "https://www.jobcus.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.jobcus.com/static/icons/apple-touch-icon.png"
      }
    }
  }
  </script>

  <!-- JSON-LD: Breadcrumbs -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      { "@type": "ListItem", "position": 1, "name": "Home", "item": "https://www.jobcus.com/" },
      { "@type": "ListItem", "position": 2, "name": "Job Insights", "item": "https://www.jobcus.com/job-insights" }
    ]
  }
  </script>
{% endblock %}

{% block content %}
<div class="job-insights-page">
  <section class="job-insights-hero">
    <h1>üìä Real-Time Job Market Insights</h1>
    <p>Explore up-to-date salary data, job demand, skill trends, and location opportunities to guide your career decisions.</p>
  </section>

  <section class="insight-filters" aria-label="Filters">
    <div class="filters-row">
      <input id="roleInput" class="filter-input" type="text" placeholder="Role (e.g., Data Analyst)">
      <input id="locationInput" class="filter-input" type="text" placeholder="Location (e.g., London or Remote)">
      <button id="applyFilters" class="filter-btn" type="button">Update insights</button>
    </div>
    <p class="filters-hint">Tip: leave fields blank to see general trends.</p>
  </section>

  <section class="insight-section" id="salary-insight">
    <h2>üí∞ Average Salary by Role</h2>
    <p>Real-time salary insights across popular job titles in your field.</p>
    <div class="chart-box">
      <canvas id="salary-chart"></canvas>
    </div>
  </section>

  <section class="insight-section" id="job-count-insight">
    <h2>üìà Job Count per Title</h2>
    <p>See how many openings are available right now for in-demand roles.</p>
    <div class="chart-box">
      <canvas id="jobcount-chart"></canvas>
    </div>
  </section>

  <section class="insight-section" id="skill-trends">
    <h2>üß† In-Demand Skills</h2>
    <p>Find out which skills employers are actively hiring for across industries.</p>
    <div class="chart-box">
      <canvas id="skill-chart"></canvas>
    </div>
  </section>

  <section class="insight-section" id="location-distribution">
    <h2>üìç Top Hiring Locations</h2>
    <p>Discover where job opportunities are concentrated geographically.</p>
    <div class="chart-box">
      <canvas id="location-chart"></canvas>
    </div>
  </section>
</div>
{% endblock %}

{% block scripts %}
<!-- Load UMD build so window.Chart exists -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js" defer></script>

<!-- Your script that uses Chart must come AFTER the library -->
<script src="{{ url_for('static', filename='js/job-insights.js') }}" defer></script>
{% endblock %}
