{% extends "base.html" %}

{% block title %}Jobcus â€“ AI Career Chat{% endblock %}

{% block body_class %}chat-page{% endblock %}
{% block header_icon %}
  <img src="/static/icons/pencilchat.svg"
       class="header-pencil-icon"
       alt="New Chat"
       title="Start a new chat"
       onclick="clearChat()" />
{% endblock %}

{% block content %}
  <main id="mainContainer">
  <div class="chat-wrapper">

    <!-- Chat messages scroll here -->
    <div class="chatbox" id="chatbox"></div>

    <!-- Job results inserted dynamically -->
    <div id="job-results" class="job-results"></div>
  </div>

  <!-- Fixed input bar at the bottom -->
  <form id="chat-form">
    <div class="input-container" id="inputContainer">
      <input type="text" id="userInput" placeholder="Ask your career question..." />
      <div class="icon-group">
        <label for="file-upload"><img src="/static/icons/paperclip.svg" alt="Attach"></label>
        <input id="file-upload" type="file" style="display: none;">
        <img src="/static/icons/mic.svg" alt="Mic" id="mic-button">
        <button type="submit"><img src="/static/icons/enter.svg" alt="Send"></button>
      </div>
    </div>
  </form>

  <!-- Floating action icons -->
  <img id="scrollDown" class="scroll-down-icon" src="/static/icons/scrolldown.svg" alt="Scroll Down" onclick="scrollToBottom()">
  <img src="/static/icons/pencilchat.svg" class="start-new-chat-icon" alt="New Chat" title="Start a new chat" onclick="clearChat()">
</main>

<!-- External chat logic -->
<script src="/static/chat.js"></script>
{% endblock %}
