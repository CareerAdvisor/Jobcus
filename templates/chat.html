{% extends "base.html" %}

{% block title %}Chat with Jobcus{% endblock %}
{% block body_class %}chat-page{% endblock %}

{% block content %}
<main id="mainContainer">
  <div class="chat-wrapper">
    <!-- Chat messages scroll here -->
    <div class="chatbox" id="chatbox"></div>

    <!-- Job results inserted dynamically -->
    <div id="job-results" class="job-results"></div>
  </div>

  <!-- Floating action icons -->
  <img id="scrollDown" class="scroll-down-icon" src="{{ url_for('static', filename='icons/scroll-down.svg') }}" alt="Scroll Down" onclick="scrollToBottom()" />

  <!-- Fixed input bar at the bottom -->
  <form id="chat-form" onsubmit="handleFormSubmit(event)">
    <div class="input-container rounded-top" id="inputContainer">
      <textarea id="userInput" rows="1" placeholder="Ask your career question..." oninput="autoResize(this)"></textarea>
      <div class="icon-group">
        <label for="file-upload">
          <img src="{{ url_for('static', filename='icons/paperclip.svg') }}" alt="Attach">
        </label>
        <input id="file-upload" type="file" style="display: none;" />
        <img src="{{ url_for('static', filename='icons/mic.svg') }}" alt="Mic" onclick="handleMic()" />
        <button type="submit">
          <img src="{{ url_for('static', filename='icons/enter.svg') }}" alt="Send">
        </button>
      </div>
    </div>
  </form>
</main>

{% endblock %}
