{% extends "base.html" %}
{% block title %}Reset Password{% endblock %}
{% block body_class %}account-page{% endblock %}

{% block extra_css %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/account.css') }}">
{% endblock %}

{% block content %}
<section class="account-container">
  <div class="account-box">
    <h2>Create a New Password</h2>

    <div id="resetStatus" class="flash-message" style="display:none;"></div>

    <form id="resetForm">
      <div class="form-group">
        <label>New Password</label>
        <input type="password" name="password" id="newPassword" required />
      </div>
      <button type="submit" class="cta-primary" id="resetBtn" disabled>Reset Password</button>
    </form>
  </div>
</section>
{% endblock %}

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    // Inject config so reset-password.js can access it
    window.SUPABASE_URL = "{{ SUPABASE_URL }}";
    window.SUPABASE_ANON_KEY = "{{ SUPABASE_ANON_KEY }}";
  </script>
  <script src="{{ url_for('static', filename='js/reset-password.js') }}"></script>
{% endblock %}

