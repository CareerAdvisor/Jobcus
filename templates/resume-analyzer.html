{% extends "base.html" %}

{% block title %}Resume Analyzer â€“ Jobcus{% endblock %}

{% block content %}

<main class="res-page"> 
<!-- Hero -->
<div class="interview-container" style="padding:20px 16px;width:100%;background:#104879;">
  <section class="interview-hero-with-image" style="display:flex;flex-direction:column;align-items:center;text-align:center;">
    <h5 style="color:#ffc957;font-weight:600;font-size:14px;letter-spacing:1px;">AI RESUME ANALYZER</h5>
    <h1 style="font-size:28px;font-weight:700;color:#fff;margin:10px 0;">
      Improve your <span style="color:#ffc957;">resume</span> with instant feedback
    </h1>
    <p style="max-width:420px;color:#fff;font-size:16px;margin:10px 0 10px;">
      Get a score, keyword insights and actionable suggestions.
    </p>
  </section>
</div>

<section id="resume-analyzer" style="padding:30px 16px; background:#f9fafb;">
  <div style="max-width:880px;margin:0 auto;">
    <h2 style="color:#104879;margin:0 0 10px;">AI Resume Analyzer</h2>
    <p style="color:#555;margin:0 0 16px;">
      Upload a PDF/DOCX and (optionally) add a job description. Weâ€™ll show your results on the dashboard.
    </p>
    
    <!-- **REPLACE WITH THIS CARD** -->
    <section class="card">
      <h2>AI Resume Analyzer</h2>

      <div id="dropzone" class="dropzone" tabindex="0" role="button" aria-label="Upload resume">
        <div class="dz-inner">
          <strong>Click to upload</strong> or drag a PDF/DOCX here
        </div>
        <input id="dashResumeFile" type="file" hidden
               accept="application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document">
      </div>
      <p id="fileName" class="muted" style="margin:.5rem 0 1rem;"></p>

      <label class="muted">Job description (optional)</label>
      <textarea id="dashJobDesc" rows="4" placeholder="Paste the job description hereâ€¦"></textarea>

      <label class="muted">Target role (optional)</label>
      <select id="dashRoleSelect">
        <option value="">â€” Select a role â€”</option>
        <option>Project Manager</option>
        <option>IT Support Specialist</option>
        <option>Business Analyst</option>
        <!-- â€¦ -->
      </select>

      <div style="display:flex;gap:.75rem;align-items:center;margin-top:1rem">
        <button id="dashAnalyzeBtn" class="btn btn-primary" disabled>Analyze</button>
        <span id="dashAnalyzing" class="muted" style="display:none">Analyzingâ€¦</span>
      </div>
    </section>
    <!-- **END REPLACEMENT** -->
 </div>
</section>
    

    <div style="display:flex;gap:10px;flex-wrap:wrap;">
      <button id="analyze-btn" class="primary-btn"
        style="background:#104879;color:#fff;padding:12px 20px;border:none;border-radius:6px;font-weight:600;font-size:14px;">
        Analyse my resume
      </button>

      <a href="/resume-builder" class="primary-btn"
        style="background:#ffc957;color:#104879;padding:12px 16px;border-radius:6px;text-decoration:none;font-weight:600;font-size:14px;">
        Create a new resume
      </a>
    </div>

    <div id="analyzingIndicator" style="display:none;margin-top:12px;color:#555;">ðŸ¤– Analyzing your resume, please waitâ€¦</div>

    <!-- Results -->
    <div id="analysisResults" style="display:none;margin-top:18px;background:#fff;border:1px solid #ececec;border-radius:8px;padding:16px;">
      <h3 style="margin:0 0 8px;color:#104879;">Results</h3>
      <div id="analysisSummary" style="font-size:14px;color:#333;"></div>

      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;">
        <button id="rebuildButton" class="primary-btn"
          style="background:#104879;color:#fff;padding:10px 16px;border:none;border-radius:6px;font-weight:600;">
          Rebuild with AI
        </button>
        <a href="/resume-builder" id="goBuilderLink"
          style="display:inline-block;background:#ffc957;color:#104879;padding:10px 16px;border-radius:6px;text-decoration:none;font-weight:600;">
          Open Builder
        </a>
      </div>
      <div style="font-size:12px;color:#666;margin-top:8px;">
        Tip: If you pasted text, weâ€™ll carry it over to pre-fill the builder.
      </div>
    </div>
  </div>
</section>

  <!-- Cover Letter button (navigates to another page) -->
  <a href="/cover-letter" class="primary-btn"
   style="background:#ffc957;color:#104879;padding:12px 16px;
          border-radius:6px;text-decoration:none;font-weight:600;
          font-size:16px;display:inline-block; align-items:center;text-align:center;">
  âžœ Create Cover Letter
  <small style="display:block;font-weight:400;font-size:14px;color:#104879; align-items:center;text-align:center;">
    Opens cover letter page
  </small>
</a>

</main>
{% endblock %}

{% block scripts %}
  <script defer src="{{ url_for('static', filename='js/resume-analyzer.js') }}"></script>
{% endblock %}
