{% extends "base.html" %}

{% block title %}Jobcus – Sign In / Sign Up{% endblock %}
{% block body_class %}account-page{% endblock %}

{% block content %}
<section class="auth-section" data-aos="fade-up">
  <h2 id="formTitle">Sign In to Jobcus</h2>

  {% with messages = get_flashed_messages() %}
    {% if messages %}
      <div class="flash-message">
        {% for message in messages %}
          <p class="highlight">{{ message }}</p>
        {% endfor %}
      </div>
    {% endif %}
  {% endwith %}

  <form id="accountForm" method="POST" action="/account" class="auth-form" autocomplete="on">
    <input type="hidden" name="mode" id="mode" value="login" />

    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" 
             id="email" 
             name="email" 
             placeholder="you@example.com" 
             autocomplete="email" 
             required />
    </div>

    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" 
             id="password" 
             name="password" 
             placeholder="Enter your password" 
             autocomplete="current-password" 
             required />
    </div>

    <div class="form-group hidden" id="nameGroup">
      <label for="name">Full Name</label>
      <input type="text" 
             id="name" 
             name="name" 
             placeholder="Your full name"
             autocomplete="name" />
    </div>

    <button type="submit" class="cta-primary" id="submitButton">Sign In</button>

    <div class="form-group" style="text-align: right;">
      <a href="/forgot-password" class="forgot-link">Forgot Password?</a>
    </div>

    <p class="toggle-text" style="text-align: center;">
      Don’t have an account? <a href="#" id="toggleMode" class="toggle-link">Sign Up</a>
    </p>
  </form>
</section>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='account.js') }}"></script>
{% endblock %}
