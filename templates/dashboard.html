{% extends "base.html" %}

{% block title %}My Dashboard â€“ Jobcus{% endblock %}

{% block content %}

<!-- Header Navigation -->
<header class="dashboard-header">
  <div class="nav-left">
    <button id="backButton" class="nav-btn">â¬… Back</button>
    <button id="homeButton" class="nav-btn">ğŸ  Home</button>
  </div>
  <div class="nav-right">
    <button id="darkModeToggle" class="nav-btn">ğŸŒ™</button>
    <button id="logoutButton" class="logout-btn">Logout</button>
  </div>
</header>

<section class="dashboard-container">
  <!-- Greeting (injected by JS) -->
  <h1 id="dashboardGreeting" class="dashboard-title"></h1>
  <p class="dashboard-subtitle">
    Track your career growth and insights powered by Jobcus AI
  </p>

  <div class="dashboard-cards">

    <!-- Resume Score -->
    <div class="dashboard-card">
      <h3>ğŸ“„ Resume Score</h3>
      <div class="progress-circle" data-score="78">
        <svg viewBox="0 0 36 36">
          <path class="bg"
            d="M18 2.0845
               a 15.9155 15.9155 0 0 1 0 31.831
               a 15.9155 15.9155 0 0 1 0 -31.831"/>
          <path class="progress" stroke-dasharray="78, 100"
            d="M18 2.0845
               a 15.9155 15.9155 0 0 1 0 31.831
               a 15.9155 15.9155 0 0 1 0 -31.831"/>
          <text x="18" y="20.35" class="percentage">78%</text>
        </svg>
        <p class="metric-note">Last analyzed: 2 days ago</p>
      </div>
    </div>

    <!-- Resume Upload Form -->
    <form id="resumeUploadForm" class="resume-upload">
      <input type="file" id="resumeFile" accept=".pdf,.txt" />
      <button type="submit" class="cta-primary">Upload Resume</button>
    </form>

    <!-- Resume Analysis Insights -->
    <section class="resume-analysis">
      <h2>Steps to Improve Your Resume</h2>
      <p>Based on ATS analysis, here are the key points:</p>

      <div class="analysis-issues">
        <h3>âš ï¸ Issues Found</h3>
        <ul id="top-issues">
          <!-- injected by JS -->
        </ul>
        <button class="cta-primary">Show More Issues</button>
      </div>

      <div class="analysis-strengths">
        <h3>âœ… What You Did Well</h3>
        <ul id="good-points">
          <!-- injected by JS -->
        </ul>
      </div>
    </section>

    <!-- Skill Gap -->
    <div class="dashboard-card">
      <h3>ğŸ§° Skill Gap Progress</h3>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 0%;"></div>
      </div>
      <p class="metric-note">65% skill match for your target role</p>
      <a href="/skill-gap" class="dashboard-link">Improve Skills</a>
    </div>

    <!-- Interview Readiness -->
    <div class="dashboard-card">
      <h3>ğŸ§  Interview Readiness</h3>
      <div class="progress-bar">
        <div class="progress-fill" style="width: 0%;"></div>
      </div>
      <p class="metric-note">Practiced 3 out of 10 scenarios</p>
      <a href="/interview-coach" class="dashboard-link">Practice Now</a>
    </div>

  </div>
</section>

{% endblock %}

{% block scripts %}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="{{ url_for('static', filename='dashboard.js') }}"></script>
{% endblock %}
