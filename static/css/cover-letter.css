/* ===== Cover Letter (page-specific) ===== */
:root{
  --brand: #104879;   /* brand blue to match screenshot */
  --brand-2:#0b355a;
  --gold:  #ffc957;
  --ink:   #0f172a;
  --muted: #475569;
  --bg:    #f5f8fc;
  --card:  #ffffff;
  --stroke:#e5e7ee;
  --radius:12px;
  --shadow:0 6px 18px rgba(16,72,121,.06);
  --font-hero: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* ---- Fluid hero (shared across pages) ---- */
.hero{
  display:flex; flex-direction:column; align-items:center; text-align:center;
  padding: clamp(16px, 4vw, 48px) clamp(12px, 4vw, 24px);
  background:#104879; border-radius:14px;
}
.hero-kicker{
  color:#ffc957; font-weight:700; letter-spacing:.08em;
  font-size: clamp(12px, 1.2vw, 18px);
  margin: 0 0 clamp(6px, .8vw, 10px);
}
.hero-title{
  color:#fff; font-weight:800; line-height:1.15; margin: 0;
  /* 28px on tiny phones → up to 56px on large screens */
  font-size: clamp(28px, 4.5vw + .25rem, 60px);
}
.hero-title .accent{ color:#ffc957; }
.hero-subtitle{
  color:#fff; opacity:.95;
  margin: clamp(8px, 1.5vw, 14px) 0 clamp(18px, 2vw, 24px);
  max-width: 60ch;
  /* 16 → 22 */
  font-size: clamp(16px, 1.2vw + .25rem, 22px);
  line-height: 1.5;
}
@media (min-width:768px){
  .hero-subtitle{ max-width:46rem; }
}

/* (legacy cl-hero styles kept for backward compatibility)
   Remove if unused elsewhere. */
.cl-hero{ width:100%; background:#f6fafc; padding:22px 0 10px; }
.cl-hero-card{
  width:min(820px, calc(100% - 32px));
  margin:0 auto;
  background: var(--brand);
  border-radius:22px;
  padding:32px 28px;
  color:#fff;
  text-align:center;
  box-shadow:0 10px 30px rgba(16,72,121,.18);
}
.cl-hero-eyebrow{
  color:var(--gold); font-weight:800; letter-spacing:.12em; font-size:14px;
  text-transform:uppercase; margin-bottom:10px;
  font-family: var(--font-hero);
}
.cl-hero-title{
  margin:0 0 12px; font-weight:800;
  font-size:clamp(26px, 5vw, 36px); line-height:1.2;
  font-family: var(--font-hero);
}
.cl-hero-title span{ color:var(--gold); }
.cl-hero-subtitle{
  margin:0; font-size:clamp(14px, 2.4vw, 18px); color:#e9eef6; max-width:60ch; margin-inline:auto;
  font-family: var(--font-hero);
}

/* ------- Card headers (title + subheader) ------- */
.rb-card > header{
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  gap: 6px;
  padding: 18px 20px;
  min-height: 96px;
  background: #fff;
  border-bottom: 1px solid var(--stroke);
}
.rb-card > header h2{
  margin: 0;
  color: #104879;
  font-weight: 800;
  line-height: 1.2;
  font-size: clamp(18px, 2.2vw, 24px);
}
.rb-card > header p{
  margin: 0;
  color: var(--muted);
  font-size: 16px;
  line-height: 1.35;
  max-width: 60ch;
}
.rb-card > header[style]{ height: auto !important; }

/* ===== Layout (wider container) ===== */
.rb-wrap{ background: #f8fcff; }
.rb-container.rb-layout{
  width: min(90vw, 1300px);
  margin: 16px auto;
  display: flex; gap: 16px;
  align-items: flex-start;
}
.rb-main{ flex: 1 1 55%; min-width: 0; }
.rb-preview{ flex: 1 1 45%; min-width: 0; position: sticky; top: 16px; }
@media (max-width: 960px){
  .rb-container.rb-layout{ width: calc(100% - 24px); flex-direction: column; }
  .rb-preview{ position: static; }
}

/* ===== Cards & panels ===== */
.rb-card{
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: 16px;
  box-shadow: var(--shadow);
  overflow: hidden;
  margin-bottom: 16px;
}
.rb-panel{ padding: 18px; }

/* Stacked header (title then subtitle) */
.stacked-hero{
  display:flex; flex-direction:column; gap:6px;
  padding:16px 18px; background:#f6fbff;
  border-bottom:1px solid var(--stroke);
}
.stacked-hero h2{
  margin:0; color:var(--brand);
  font-weight:800; font-size:clamp(20px, 2.6vw, 24px);
}
.stacked-hero p{
  margin:0; color:var(--muted);
  font-size:clamp(14px, 1.9vw, 16px);
}

/* ===== Form grid ===== */
.rb-grid{ display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.rb-grid .full{ grid-column: 1 / -1; }
.rb-minihead{ margin-top:6px; font-weight:700; color:var(--brand-2); }

.rb-grid label{ display: block; font-weight: 600; color: var(--brand-2); }
.rb-grid input, .rb-grid select, .rb-grid textarea{
  width: 100%; margin-top: 6px;
  border: 1px solid var(--stroke); border-radius: 10px;
  background: #fff; color: var(--ink);
  padding: 12px 14px; font: 16px/1.3 inherit;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.rb-grid textarea{ min-height: 120px; }
.rb-grid input:focus, .rb-grid select:focus, .rb-grid textarea:focus{
  border-color: var(--brand); box-shadow: 0 0 0 3px rgba(16,72,121,.15); outline: 0;
}
@media (max-width:720px){ .rb-grid{ grid-template-columns: 1fr; } }

/* ===== AI suggestion box ===== */
.ai-suggest{
  margin-top: 12px;
  border: 1px dashed var(--stroke);
  border-radius: 10px;
  background: #fffdfa;
  padding: 12px;
}
.ai-suggest .ai-title{ font-weight: 800; color: var(--brand); margin-bottom: 6px; }
.ai-suggest .ai-text{ margin: 0 0 8px; color: var(--muted); }
.ai-suggest .ai-actions{ display: flex; gap: 8px; flex-wrap: wrap; }
.ai-suggest .btn{
  border: 1px solid var(--stroke);
  background: #fff; color: var(--brand);
  border-radius: 10px; padding: 8px 12px; font-weight: 700; cursor: pointer;
}
.ai-suggest .btn:hover{ background:#f7fbff; }
.ai-suggest .btn.btn-primary{
  background: var(--brand); color:#fff; border-color: var(--brand);
}
.ai-suggest .btn.btn-primary:hover{ filter: brightness(.96); }
/* gold refresh */
.ai-suggest .ai-refresh{
  background: #ffc957;
  border: 1px solid #ffc957;
  color: #104879;
}
.ai-suggest .ai-refresh:hover { filter: brightness(0.95); }
.ai-suggest .ai-refresh:focus { outline: 2px solid #104879; outline-offset: 2px; }

/* ===== Buttons & footer ===== */
.cta-primary{
  appearance:none; border:0; border-radius:10px;
  padding:12px 16px; background: var(--brand);
  color:#fff; font-weight:800; cursor:pointer;
  transition: transform .06s ease, filter .15s ease;
}
.cta-primary.alt{ background:#0b355a; }
.cta-primary:hover{ filter: brightness(.96); }
.cta-primary:active{ transform: translateY(1px); }

.cta-secondary{
  border:1px solid var(--brand); background:#fff; color: var(--brand);
  border-radius:10px; padding:10px 14px; font-weight:800; cursor:pointer;
}
.cta-secondary:hover{ background: var(--brand); color:#fff; }

/* “Back” simple */
.ghost{
  color: var(--brand); text-decoration:none; font-weight:700;
  border:0; background:transparent; padding:8px 0;
}
.ghost:hover, .ghost:focus, .ghost:active{
  background:transparent; color:var(--brand); text-decoration:underline;
}

.rb-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.rb-footer{
  display:flex; gap:10px; justify-content:space-between; padding: 10px 0 4px;
}

/* ===== Preview (sticky) ===== */
.rb-preview .rb-card{ position: relative; }
#clPreview{ width:100%; height:80vh; border:0; background:#fff; display:block; }

/* --- Wide desktop preview --- */
@media (min-width: 1024px) {
  .rb-container.rb-layout { max-width: 1300px; }
  .rb-preview { max-width: none; }
  #clPreviewWrap { max-width: none; }
  #clPreview {
    width: min(100%, 900px);
    height: 90vh;
    margin: 0 auto;
    display: block;
    border: 0;
    background: #fff;
  }
}

/* ===== Delayed watermark overlay for preview wraps ===== */
.preview-wrap{ position: relative; }
.preview-wrap iframe{ display:block; width:100%; height:80vh; border:0; background:#fff; }
.preview-wrap[data-watermark]::after{
  content: attr(data-watermark);
  position:absolute; inset:0;
  display:none;
  place-items:center;
  font: 700 28px/1 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  color: rgba(16,72,121,.10);
  transform: rotate(-28deg);
  letter-spacing:.08em;
  user-select:none; pointer-events:none;
  z-index: 3;
}
.preview-wrap.wm-active::after{ display:grid; }

/* Optional “nocopy” guard (free tier) */
.nocopy, .nocopy * { user-select:none !important; -webkit-user-select:none !important; }

/* ===== Letter-only preview styles (SCOPED) ===== */
body.cl-letter-only header,
body.cl-letter-only nav,
body.cl-letter-only footer,
body.cl-letter-only .site-header,
body.cl-letter-only .site-footer,
body.cl-letter-only .navbar,
body.cl-letter-only .topbar,
body.cl-letter-only .app-footer,
body.cl-letter-only .chat-widget,
body.cl-letter-only .floating-chat,
body.cl-letter-only .intercom-lightweight-app { display:none !important; }

body.cl-letter-only,
body.cl-letter-only html { background:#fff; margin:0; }

body.cl-letter-only .cl{
  max-width: clamp(680px, 84vw, 860px);
  margin: 36px auto;
  padding: 0 16px;
  color:#111;
  font: 12pt/1.55 Arial, Helvetica, sans-serif;
}
body.cl-letter-only .cl-header { text-align:center; margin: 0 auto 14pt; }
body.cl-letter-only .cl-header .name { font-weight:800; font-size:32pt; margin:0; }
body.cl-letter-only .cl-header .contact { margin-top:4pt; }
body.cl-letter-only .date { margin: 12pt 0 14pt; }
body.cl-letter-only .recipient { margin: 0 0 12pt; }
body.cl-letter-only .salutation { margin: 0 0 10pt; }
body.cl-letter-only .block { white-space:pre-wrap; overflow-wrap:anywhere; }
@page { size:A4; margin:18mm 18mm; }

/* Minor utility */
.rb-row{ display:flex; gap:10px; flex-wrap:wrap; }

/* =========================
   Page-wide width overrides
   ========================= */

/* 1) Cover Letter should not inherit the global 800px cap */
#cover-letter {
  max-width: none !important;
  width: 100% !important;
  margin: 0;             /* keep it full-bleed within the page flow */
  padding: 0;            /* your inner containers already pad */
}

/* 2) Let sticky elements work; some ancestors used overflow:hidden */
.page-container > main,
body > main {
  overflow: visible !important;
}

/* 3) Desktop two-column layout + sticky preview */
@media (min-width: 1024px) {
  .rb-container.rb-layout {
    max-width: 1300px !important;
    width: min(92vw, 1300px) !important;
    margin: 16px auto !important;
    display: flex;
    gap: 16px;
    align-items: flex-start;
  }

  .rb-main    { flex: 1 1 55%; min-width: 0; }
  .rb-preview { flex: 1 1 45%; min-width: 0; position: sticky; top: calc(60px + 16px); }

  /* Your preview iframe: comfortable desktop size */
  #clPreview {
    width: min(100%, 900px) !important;
    height: 90vh !important;
    display: block;
    margin: 0 auto;
    border: 0;
    background: #fff;
  }

  /* If the template keeps style="display:none" on the wrapper, force show it on desktop */
  #clPreviewWrap { display: block !important; }
}
