/* ===== Cover Letter (page-specific) ===== */
:root{
  --brand:#104879; --brand-2:#0b355a; --gold:#ffc957;
  --ink:#0f172a; --muted:#475569; --bg:#f5f8fc; --card:#fff;
  --stroke:#e5e7ee; --radius:12px; --shadow:0 6px 18px rgba(16,72,121,.06);
  --font-hero: Inter, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
}

/* ---------- Page shell + unified width ---------- */
#cover-letter.rb-wrap{ background:#f8fcff; }
#cover-letter .cl-container{
  width: min(1150px, 92%);
  margin: 0 auto;
  padding: 0;                /* gutters handled by inner blocks */
}
#cover-letter .cl-narrow{
  max-width: 900px;
  width: 100%;
  margin: 0 auto;
}

/* Make form + preview follow the same column width (stacked) */
#cover-letter .rb-main,
#cover-letter .rb-preview{
  width: 100%;
  max-width: 900px;
  margin: 0 auto;
  min-width: 0;
}

/* ---------- Hero ---------- */
#cover-letter .hero-wrap{ background:#104879; padding-bottom:20px;}
#cover-letter .hero{
  display:flex; flex-direction:column; align-items:center; text-align:center;
  padding: clamp(16px,4vw,48px) clamp(12px,4vw,24px);
  background:#104879; border-radius:14px;
  font-family: var(--font-hero);
}
#cover-letter .hero-kicker{
  color:#ffc957; font-weight:700; letter-spacing:.08em;
  font-size: clamp(12px, 1.2vw, 18px);
  margin: 0 0 clamp(6px,.8vw,10px);
}
#cover-letter .hero-title{
  color:#fff; font-weight:800; line-height:1.15; margin:0;
  font-size: clamp(24px, 4.5vw + .25rem, 56px);
}
#cover-letter .hero-title .accent{ color:#ffc957; }
#cover-letter .hero-subtitle{
  color:#fff; opacity:.95; margin: clamp(8px,1.5vw,14px) 0 clamp(18px,2vw,24px);
  max-width: 60ch; font-size: clamp(16px, 1.2vw + .25rem, 22px); line-height:1.5;
}
@media (min-width:768px){ #cover-letter .hero-subtitle{ max-width:46rem; } }

/* ---------- Section spacing ---------- */
#cover-letter .section{ padding: 24px 0; }

/* ---------- Tabs / footer (unchanged look) ---------- */
#cover-letter .rb-footer{
  display:flex; gap:10px; justify-content:space-between; padding:10px 0 4px;
}

/* ---------- Cards & panels ---------- */
#cover-letter .rb-card{
  background:var(--card);
  border:1px solid var(--stroke);
  border-radius:16px;
  box-shadow:var(--shadow);
  overflow:hidden;
  margin-bottom:16px;
}
#cover-letter .rb-card>header{
  display:flex; flex-direction:column; align-items:flex-start; gap:6px;
  padding:18px 20px; min-height:96px; background:#fff; border-bottom:1px solid var(--stroke);
}
#cover-letter .rb-card>header h2{
  margin:0; color:#104879; font-weight:800; line-height:1.2;
  font-size: clamp(18px, 2.2vw, 24px);
}
#cover-letter .rb-card>header p{
  margin:0; color:var(--muted); font-size:16px; line-height:1.35; max-width:60ch;
}
#cover-letter .rb-panel{ padding:18px; }

/* ---------- Form grid ---------- */
#cover-letter .rb-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:12px;
}
#cover-letter .rb-grid .full{ grid-column:1 / -1; }
#cover-letter .rb-grid label{ display:block; font-weight:600; color:var(--brand-2); }
#cover-letter .rb-grid input,
#cover-letter .rb-grid select,
#cover-letter .rb-grid textarea{
  width:100%; margin-top:6px;
  border:1px solid var(--stroke); border-radius:10px; background:#fff; color:var(--ink);
  padding:12px 14px; font:16px/1.3 inherit; /* >=16px prevents iOS zoom */
  transition: box-shadow .15s ease, border-color .15s ease;
}
#cover-letter .rb-grid textarea{ min-height:120px; }
#cover-letter .rb-grid input:focus,
#cover-letter .rb-grid select:focus,
#cover-letter .rb-grid textarea:focus{
  border-color:var(--brand); box-shadow:0 0 0 3px rgba(16,72,121,.15); outline:0;
}
@media (max-width:720px){ #cover-letter .rb-grid{ grid-template-columns:1fr; } }

/* Keep mobile page height steady while stepping */
#cover-letter #clForm{ min-height:60vh; }
@media (max-width:720px){ #cover-letter #clForm{ min-height:72vh; } }

/* ---------- AI suggest ---------- */
#cover-letter .ai-suggest{
  margin-top:12px; border:1px dashed var(--stroke); border-radius:10px; background:#fffdfa; padding:12px;
}
#cover-letter .ai-suggest .ai-title{ font-weight:800; color:var(--brand); margin-bottom:6px; }
#cover-letter .ai-suggest .ai-text{ margin:0 0 8px; color:var(--muted); }
#cover-letter .ai-suggest .ai-actions{ display:flex; gap:8px; flex-wrap:wrap; }
#cover-letter .ai-suggest .btn{
  border:1px solid var(--stroke); background:#fff; color:var(--brand);
  border-radius:10px; padding:8px 12px; font-weight:700; cursor:pointer;
}
#cover-letter .ai-suggest .btn:hover{ background:#f7fbff; }
#cover-letter .ai-suggest .btn.btn-primary{ background:var(--brand); color:#fff; border-color:var(--brand); }
#cover-letter .ai-suggest .btn.btn-primary:hover{ filter:brightness(.96); }
#cover-letter .ai-suggest .ai-refresh{ background:#ffc957; border:1px solid #ffc957; color:#104879; }

/* ---------- Buttons ---------- */
#cover-letter .cta-primary{
  appearance:none; border:0; border-radius:10px; padding:12px 16px;
  background:var(--brand); color:#fff; font-weight:800; cursor:pointer;
  transition: transform .06s ease, filter .15s ease;
}
#cover-letter .cta-primary:hover{ filter:brightness(.96); }
#cover-letter .cta-primary:active{ transform:translateY(1px); }

#cover-letter .cta-secondary{
  border:1px solid var(--brand); background:#fff; color:var(--brand);
  border-radius:10px; padding:10px 14px; font-weight:800; cursor:pointer;
}
#cover-letter .cta-secondary:hover{ background:var(--brand); color:#fff; }

#cover-letter .ghost{ color:var(--brand); text-decoration:none; font-weight:700; border:0; background:transparent; padding:8px 0; }
#cover-letter .ghost:hover{ color:var(--brand); text-decoration:underline; }
#cover-letter .rb-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }

/* ---------- Preview (stacked) ---------- */
#cover-letter .rb-preview .rb-card{ position:relative; overflow:hidden; border-radius:16px; }
#cover-letter .rb-preview .rb-card .rb-panel{ display:flex; flex-direction:column; align-items:center; gap:12px; }

/* Preview wrapper + iframe fit the same column width */
#cover-letter .preview-wrap{
  position:relative; box-sizing:border-box; width:100%;
  margin:0 auto; border-radius:16px; overflow:hidden; background:#fff;
}
#cover-letter .preview-wrap iframe{
  display:block; box-sizing:border-box; width:100% !important; height:90vh !important;
  margin:0 auto; border:0; background:#fff;
}

/* Downloads row under preview */
#cover-letter #cl-downloads{
  width:100%; margin:8px auto 0;
  display:flex !important; justify-content:center; align-items:center; gap:10px; flex-wrap:wrap;
  position:static; background:#fff; border:1px solid var(--stroke); border-radius:12px; padding:10px; z-index:1;
}

/* Back-to-edit hidden in stacked layout (you can show via JS when overlaying) */
#cover-letter #cl-back-edit{ display:none !important; }

/* Watermark overlay for previews (toggle .wm-active in JS) */
#cover-letter .preview-wrap[data-watermark]::after{
  content: attr(data-watermark);
  position: absolute; inset: 0; display: none; place-items: center;
  font: 700 28px/1 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  color: rgba(16,72,121,.10);
  transform: rotate(-28deg); letter-spacing:.08em;
  user-select: none; pointer-events: none; z-index: 3;
}
#cover-letter .preview-wrap.wm-active::after{
  display:grid; font-weight:900;
  font-size: clamp(42px, 8vw, 96px);
  letter-spacing:.12em; color: rgba(16,72,121,.14);
  transform: rotate(-30deg) scale(1.1);
}

/* ---------- Wizard visibility ---------- */
#cover-letter .rb-step{ display:none; }
#cover-letter .rb-step.active{ display:block; }

/* ---------- Mobile polish ---------- */
@supports (-webkit-touch-callout: none) {
  /* iOS specific: prevent zoom jump */
  #cover-letter input, #cover-letter select, #cover-letter textarea { font-size:16px !important; }
}
html { -webkit-text-size-adjust: 100%; }
