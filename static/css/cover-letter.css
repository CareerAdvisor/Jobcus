/* ===== Cover Letter (page-specific) ===== */

/* local vars so this file works even if base.css is trimmed */
:root{
  --brand: #104879;
  --brand-2:#0b355a;
  --gold:  #ffc957;
  --ink:   #0f172a;
  --muted: #475569;
  --bg:    #f5f8fc;
  --card:  #ffffff;
  --stroke:#e5e7ee;
  --radius:12px;
  --shadow:0 6px 18px rgba(16,72,121,.06);
}

/* ===== Small hero bar (kept) ===== */
.interview-container{
  width:100%;
  background: var(--brand);
}
.interview-container .interview-hero-with-image{
  display:flex; flex-direction:column; align-items:center; text-align:center;
  padding:20px 16px;
}
.interview-container h5{
  color:var(--gold); font-weight:700; font-size:14px; letter-spacing:1px; margin:0;
}
.interview-container h1{
  font-size:28px; font-weight:800; color:#fff; margin:10px 0;
}
.interview-container p{
  max-width:520px; color:#fff; font-size:16px; margin:10px 0 20px;
}

/* ===== Layout (70% page width, centered) ===== */
.rb-wrap{ background: #f8fcff; }
.rb-container.rb-layout{
  width: min(70vw, 1300px);                  /* ← 70% viewport width kept */
  margin: 16px auto;
  display: flex; gap: 16px;
  align-items: flex-start;
}
.rb-main{ flex: 1 1 55%; min-width: 0; }
.rb-preview{ flex: 1 1 45%; min-width: 0; position: sticky; top: 16px; }

/* Stack on small screens */
@media (max-width: 960px){
  .rb-container.rb-layout{ width: calc(100% - 24px); flex-direction: column; }
  .rb-preview{ position: static; }
}

/* ===== Cards & panels ===== */
.rb-card{
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  overflow: hidden;
  margin-bottom: 14px;
}

/* Legacy header (kept for backward-compat) */
.rb-card > header{
  padding: 14px 16px;
  background: #fff;
  border-bottom: 1px solid var(--stroke);
}
.rb-card > header h2{
  margin: 0; color: var(--brand); font-size: clamp(18px, 2.4vw, 22px); font-weight: 800;
}
.rb-card > header p{
  margin: 4px 0 0; color: var(--muted);
}

/* New stacked header (prevents overlap) */
.stacked-hero{
  display:flex; flex-direction:column; gap:6px;
  padding:14px 16px;
  background:#fff;
  border-bottom:1px solid var(--stroke);
}
.subject-title{
  margin:0; color:var(--brand);
  font-weight:800; line-height:1.2;
  font-size: clamp(20px, 2.6vw, 26px);
}
.subject-subtitle{
  margin:0; color:var(--muted); line-height:1.45; max-width:65ch;
}

.rb-panel{ padding: 16px; }

/* ===== Form grid ===== */
.rb-grid{ display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
.rb-grid .full{ grid-column: 1 / -1; }
.rb-grid label{ display: block; font-weight: 600; color: var(--brand-2); }
.rb-grid input, .rb-grid select, .rb-grid textarea{
  width: 100%; margin-top: 6px;
  border: 1px solid var(--stroke); border-radius: 10px;
  background: #fff; color: var(--ink);
  padding: 12px 14px; font: 16px/1.3 inherit;
  transition: box-shadow .15s ease, border-color .15s ease;
}
.rb-grid textarea{ min-height: 120px; }
.rb-grid input:focus, .rb-grid select:focus, .rb-grid textarea:focus{
  border-color: var(--brand); box-shadow: 0 0 0 3px rgba(16,72,121,.15); outline: 0;
}
@media (max-width:720px){ .rb-grid{ grid-template-columns: 1fr; } }

/* ===== AI suggestion box ===== */
.ai-suggest{
  margin-top: 12px;
  border: 1px dashed var(--stroke);
  border-radius: 10px;
  background: #fffdfa;
  padding: 12px;
}
.ai-suggest .ai-title{ font-weight: 800; color: var(--brand); margin-bottom: 6px; }
.ai-suggest .ai-text{ margin: 0 0 8px; color: var(--muted); }
.ai-suggest .ai-actions{ display: flex; gap: 8px; flex-wrap: wrap; }
.ai-suggest .btn{
  border: 1px solid var(--stroke);
  background: #fff; color: var(--brand);
  border-radius: 10px; padding: 8px 12px; font-weight: 700; cursor: pointer;
}
.ai-suggest .btn:hover{ background:#f7fbff; }
.ai-suggest .btn.btn-primary{
  background: var(--brand); color:#fff; border-color: var(--brand);
}
.ai-suggest .btn.btn-primary:hover{ filter: brightness(.96); }

/* “Gold” refresh stands out */
.ai-suggest .ai-refresh{
  background: var(--gold);
  border-color: var(--gold);
  color: var(--brand);
}

/* ===== Buttons & footer ===== */
.cta-primary{
  appearance:none; border:0; border-radius:10px;
  padding:12px 16px; background: var(--brand);
  color:#fff; font-weight:800; cursor:pointer;
  transition: transform .06s ease, filter .15s ease;
}
.cta-primary:hover{ filter: brightness(.96); }
.cta-primary:active{ transform: translateY(1px); }

.cta-secondary{
  border:1px solid var(--brand); background:#fff; color: var(--brand);
  border-radius:10px; padding:10px 14px; font-weight:800; cursor:pointer;
}
.cta-secondary:hover{ background: var(--brand); color:#fff; }

.ghost{
  color: var(--brand); text-decoration:none; font-weight:700;
  border:0; background:transparent; padding:8px 0;
}
.ghost:hover{ text-decoration: underline; }

.rb-actions{ display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
.rb-footer{ display:flex; gap:10px; justify-content:space-between; padding: 10px 0 4px; }

/* Wizard helpers (Back/Next) */
.wizard-controls{ display:flex; gap:10px; align-items:center; }
.primary{
  background:var(--brand); color:#fff; border:0; border-radius:10px;
  padding:10px 14px; font-weight:800; cursor:pointer;
}
.primary:hover{ filter:brightness(.96); }

/* ===== Preview (sticky) ===== */
.rb-preview .rb-card{ position: relative; }
#clPreview{
  width: 100%;
  height: 80vh;
  border: 0;
  background: #fff;
  display: block;
  border-radius:8px;
}

/* ===== Delayed watermark overlay for preview wraps ===== */
.preview-wrap{ position: relative; }
.preview-wrap iframe{ display:block; width:100%; height:80vh; border:0; background:#fff; }

/* Only shows AFTER JS adds .wm-active */
.preview-wrap[data-watermark]::after{
  content: attr(data-watermark);
  position:absolute; inset:0;
  display:none;               /* hidden until content is ready */
  place-items:center;
  font: 700 28px/1 system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, sans-serif;
  color: rgba(16,72,121,.10);
  transform: rotate(-28deg);
  letter-spacing:.08em;
  user-select:none; pointer-events:none;
  z-index: 3;
}
.preview-wrap.wm-active::after{ display:grid; }

/* Optional: small helper for “nocopy” guards (used on free tier) */
.nocopy, .nocopy * { user-select:none !important; -webkit-user-select:none !important; }

/* ===== Minor utilities used on the page ===== */
.rb-row{ display:flex; gap:10px; flex-wrap:wrap; }
.rb-tab-link--cta{ font-weight:800; }
